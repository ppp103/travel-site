--CREATE DATABASE QLBanNuocHoa --USE QLBanNuocHoa --DROP DATABASE QLBanNuocHoa
USE QLBanNuocHoa CREATE TABLE KHOILUONG ( Ma_khoi_luong NARCHAR(20) NOT NULL,
Ten_khoi_luong NVARCHAR(20) NOT NULL, PRIMARY KEY (Ma_khoi_luong) ); CREATE
TABLE LOAI ( Ma_loai NVARCHAR(20) NOT NULL, Ten_loai NVARCHAR(20) NOT NULL,
PRIMARY KEY (Ma_loai) ); CREATE TABLE HANGSX ( Ma_hang_sx NVARCHAR(30) NOT NULL,
Ten_hang_sx NVARCHAR(30) NOT NULL, PRIMARY KEY (Ma_hang_sx) ); CREATE TABLE
CHATLIEU ( Ma_chat_lieu NVARCHAR(20) NOT NULL, Ten_chat_lieu NVARCHAR(20) NOT
NULL, PRIMARY KEY (Ma_chat_lieu) ); CREATE TABLE NUOCSANXUAT ( Ma_nuoc_sx
NVARCHAR(20) NOT NULL, Ten_nuoc_sx NVARCHAR(20) NOT NULL, PRIMARY KEY
(Ma_nuoc_sx) ); CREATE TABLE MAUSAC ( Ma_mau NVARCHAR(20) NOT NULL, Ten_mau
NVARCHAR(20) NOT NULL, PRIMARY KEY (Ma_mau) ); CREATE TABLE CONGDUNG (
Ma_cong_dung NVARCHAR(20) NOT NULL, Ten_cong_dung NVARCHAR(20) NOT NULL, PRIMARY
KEY (Ma_cong_dung) ); CREATE TABLE KHACHHANG ( Ma_khach NVARCHAR(30) NOT NULL,
Ten_khach NVARCHAR(30) NOT NULL, Dia_chi NVARCHAR(225) NOT NULL, Dien_thoai
NVARCHAR(30) NOT NULL, PRIMARY KEY (Ma_khach) ); CREATE TABLE CONGVIEC ( Ma_cv
NVARCHAR(50) NOT NULL, Ten_cv NVARCHAR(50) NOT NULL, Muc_luong MONEY NOT NULL,
PRIMARY KEY (Ma_cv) ); CREATE TABLE NHACUNGCAP ( Ma_ncc NVARCHAR(50) NOT NULL,
Ten_ncc NVARCHAR(50) NOT NULL, Dia_chi NVARCHAR(50) NOT NULL, Dien_thoai
NVARCHAR(50) NOT NULL, PRIMARY KEY (Ma_ncc) ); CREATE TABLE MUA ( Ma_mua
NVARCHAR(20) NOT NULL, Ten_mua NVARCHAR(20) NOT NULL, PRIMARY KEY (Ma_mua) );
CREATE TABLE DMHANGHOA ( Ma_hang NVARCHAR(20) NOT NULL, Ten_hang_hoa
NVARCHAR(20) NOT NULL, So_luong INT NOT NULL, Don_Gia_Nhap MONEY NOT NULL,
Don_Gia_Ban MONEY NOT NULL, Thoi_gian_bao_hanh INT NOT NULL, Anh IMAGE NULL,
Ghi_chu NVARCHAR(20) NULL, Ma_khoi_luong NVARCHAR(20) NOT NULL, Ma_loai
NVARCHAR(20) NOT NULL, Ma_hang_sx NVARCHAR(30) NOT NULL, Ma_chat_lieu
NVARCHAR(20) NOT NULL, Ma_nuoc_sx NVARCHAR(20) NOT NULL, Ma_mau NVARCHAR(20) NOT
NULL, Ma_cong_dung NVARCHAR(20) NOT NULL, Ma_mua NVARCHAR(20) NOT NULL, PRIMARY
KEY (Ma_hang), FOREIGN KEY (Ma_khoi_luong) REFERENCES KHOILUONG(Ma_khoi_luong),
FOREIGN KEY (Ma_loai) REFERENCES LOAI(Ma_loai), FOREIGN KEY (Ma_hang_sx)
REFERENCES HANGSX(Ma_hang_sx), FOREIGN KEY (Ma_chat_lieu) REFERENCES
CHATLIEU(Ma_chat_lieu), FOREIGN KEY (Ma_nuoc_sx) REFERENCES
NUOCSANXUAT(Ma_nuoc_sx), FOREIGN KEY (Ma_mau) REFERENCES MAUSAC(Ma_mau), FOREIGN
KEY (Ma_cong_dung) REFERENCES CONGDUNG(Ma_cong_dung), FOREIGN KEY (Ma_mua)
REFERENCES MUA(Ma_mua) ); CREATE TABLE NHANVIEN ( Ma_nv NVARCHAR(50) NOT NULL,
Ten_nv NVARCHAR(50) NOT NULL, Gioi_tinh NVARCHAR(50) NOT NULL, Ngay_sinh DATE
NOT NULL, Dien_thoai NVARCHAR(50) NOT NULL, Dia_chi NVARCHAR(50) NOT NULL, Ma_cv
NVARCHAR(50) NOT NULL, PRIMARY KEY (Ma_nv), FOREIGN KEY (Ma_cv) REFERENCES
CONGVIEC(Ma_cv) ); CREATE TABLE HOADONBAN ( So_hdb NVARCHAR(225) NOT NULL,
Ngay_ban FLOAT NOT NULL, Tong_tien FLOAT NOT NULL, Ma_khach NVARCHAR(30) NOT
NULL, Ma_nv NVARCHAR(50) NOT NULL, PRIMARY KEY (So_hdb), FOREIGN KEY (Ma_khach)
REFERENCES KHACHHANG(Ma_khach), FOREIGN KEY (Ma_nv) REFERENCES NHANVIEN(Ma_nv)
); CREATE TABLE HOADONNHAP ( So_hdn NVARCHAR(225) NOT NULL, Ngay_nhap DATE NOT
NULL, Tong_tien FLOAT NOT NULL, Ma_ncc NVARCHAR(50) NOT NULL, Ma_nv NVARCHAR(50)
NOT NULL, PRIMARY KEY (So_hdn), FOREIGN KEY (Ma_ncc) REFERENCES
NHACUNGCAP(Ma_ncc), FOREIGN KEY (Ma_nv) REFERENCES NHANVIEN(Ma_nv) ); CREATE
TABLE CHITIETHOADONBAN ( So_luong INT NOT NULL, Giam_gia FLOAT NOT NULL,
Thanh_tien FLOAT NOT NULL, So_hdb NVARCHAR(225) NOT NULL, Ma_hang NVARCHAR(20)
NOT NULL, FOREIGN KEY (So_hdb) REFERENCES HOADONBAN(So_hdb), FOREIGN KEY
(Ma_hang) REFERENCES DMHANGHOA(Ma_hang) ); CREATE TABLE CHITIETHOADONNHAP (
So_luong INT NOT NULL, Don_gia FLOAT NOT NULL, Giam_gia FLOAT NOT NULL,
Thanh_tien FLOAT NOT NULL, So_hdn NVARCHAR(225) NOT NULL, Ma_hang NVARCHAR(20)
NOT NULL, FOREIGN KEY (So_hdn) REFERENCES HOADONNHAP(So_hdn), FOREIGN KEY
(Ma_hang) REFERENCES DMHANGHOA(Ma_hang) );
